{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useDispatch } from \"react-redux\";\nimport { userLogout } from '../Store/Slices/userSlice';\nimport { personLogout } from '../Store/Slices/personSlice';\nimport axiosInstance from \"../axios\";\nexport const useLogout = () => {\n  _s();\n  const dispatch = useDispatch();\n  const logout = async () => {\n    try {\n      await axiosInstance.post('Auth/logout'); // Assuming you have a logout endpoint\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      localStorage.removeItem(\"access_token\");\n      localStorage.removeItem(\"refresh_token\");\n      delete axiosInstance.defaults.headers['Authorization'];\n      dispatch(userLogout());\n      dispatch(personLogout());\n    }\n  };\n  return {\n    logout\n  };\n};\n_s(useLogout, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["useDispatch","userLogout","personLogout","axiosInstance","useLogout","_s","dispatch","logout","post","error","console","localStorage","removeItem","defaults","headers"],"sources":["/home/sahil/Student-Record-Management-System/frontend/src/hooks/useLogout.js"],"sourcesContent":["import { useDispatch } from \"react-redux\"\nimport { userLogout } from '../Store/Slices/userSlice';\nimport { personLogout } from '../Store/Slices/personSlice';\nimport axiosInstance from \"../axios\";\n\nexport const useLogout = () => {\n    const dispatch = useDispatch();\n\n    const logout = async () => {\n        try {\n            await axiosInstance.post('Auth/logout');  // Assuming you have a logout endpoint\n        } catch (error) {\n            console.error('Logout error:', error);\n        } finally {\n            localStorage.removeItem(\"access_token\");\n            localStorage.removeItem(\"refresh_token\");\n            delete axiosInstance.defaults.headers['Authorization'];\n            dispatch(userLogout());\n            dispatch(personLogout());\n        }\n    }\n    return { logout };\n}"],"mappings":";AAAA,SAASA,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,2BAA2B;AACtD,SAASC,YAAY,QAAQ,6BAA6B;AAC1D,OAAOC,aAAa,MAAM,UAAU;AAEpC,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAE9B,MAAMO,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvB,IAAI;MACA,MAAMJ,aAAa,CAACK,IAAI,CAAC,aAAa,CAAC,CAAC,CAAE;IAC9C,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACzC,CAAC,SAAS;MACNE,YAAY,CAACC,UAAU,CAAC,cAAc,CAAC;MACvCD,YAAY,CAACC,UAAU,CAAC,eAAe,CAAC;MACxC,OAAOT,aAAa,CAACU,QAAQ,CAACC,OAAO,CAAC,eAAe,CAAC;MACtDR,QAAQ,CAACL,UAAU,CAAC,CAAC,CAAC;MACtBK,QAAQ,CAACJ,YAAY,CAAC,CAAC,CAAC;IAC5B;EACJ,CAAC;EACD,OAAO;IAAEK;EAAO,CAAC;AACrB,CAAC;AAAAF,EAAA,CAjBYD,SAAS;EAAA,QACDJ,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}